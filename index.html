<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>varOne by SparkMonitor</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>varOne</h1>
        <h2>It&#39;s a apache spark monitor tool</h2>
        <a href="https://github.com/SparkMonitor/varOne" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="varone" class="anchor" href="#varone" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>varOne</strong>
</h1>

<p>This is an <a href="http://spark.apache.org/">Apache Spark</a> monitor tools, named <strong><code>varOne</code></strong>.</p>

<p><strong><code>varOne</code></strong> provide a web UI for you to watch the metrics of Spark applications and make you monitor your spark application more efficiency and easy. In fact, <strong><code>varOne</code></strong> ingest the the spark <strong>event logs</strong> and <strong>metrics</strong> data then summarize these data as rich charts. In addition, <strong><code>varOne</code></strong> give some useful metric charts for you to monitor. If you don't want to use this web UI, you can use the RESTful APIs provided by <strong><code>varOne</code></strong> and custom one by yourself.</p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<h2>
<a id="prerequests" class="anchor" href="#prerequests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prerequests</h2>

<ul>
<li>JDK 6 and later</li>
<li>metrics.properties should enable CsvSink for all instances, you can follow the config in the below:
<div>
*.sink.csv.class=org.apache.spark.metrics.sink.CsvSink
*.sink.csv.period=1
*.sink.csv.unit=seconds
*.sink.csv.directory=/path/to/CSV_SINK
driver.source.jvm.class=org.apache.spark.metrics.source.JvmSource
executor.source.jvm.class=org.apache.spark.metrics.source.JvmSource
</div>
</li>
</ul>

<h3>
<a id="a-download" class="anchor" href="#a-download" aria-hidden="true"><span class="octicon octicon-link"></span></a>a. Download</h3>

<h3>
<a id="b-start-varone-daemond" class="anchor" href="#b-start-varone-daemond" aria-hidden="true"><span class="octicon octicon-link"></span></a>b. Start varOne daemond</h3>

<p>Deploy the <code>varOne-node-{version}.jar</code> to each node in your cluster and start it by following command:</p>

<div class="highlight highlight-source-shell"><pre>$ java -jar varOne-node-0.1.jar -d {SPARK_CONF_PATH} -p {PORT}</pre></div>

<blockquote>
<p><em>SPARK_CONF_PATH</em> is the path of <strong>$SPARK_HOME/conf</strong> and make sure <code>metrics.properties</code> exists in that folder.<br>
<em>PORT</em> is the port number for varOne daemond.</p>
</blockquote>

<h3>
<a id="c-start-varone-server" class="anchor" href="#c-start-varone-server" aria-hidden="true"><span class="octicon octicon-link"></span></a>c. Start varOne server</h3>

<p>Before start varOne server, make sure the following configuration files exist in <strong>$HOME/.varOne/conf</strong></p>

<ul>
<li>yarn-site.xml</li>
<li>core-site.xml</li>
<li>hdfs-site.xml</li>
<li>metrics.properties</li>
</ul>

<p>Start up the varOne RESTful server by following command:</p>

<div class="highlight highlight-source-shell"><pre>$ java -jar varOne-web-0.1.jar</pre></div>

<p>if no error occurred, open the browser and go to http://localhost:8080/varOne-web</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/SparkMonitor/varOne/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/SparkMonitor/varOne/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/SparkMonitor/varOne"></a> is maintained by <a href="https://github.com/SparkMonitor">SparkMonitor</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
